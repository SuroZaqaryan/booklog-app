# –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –∫–Ω–∏–≥

## –û–ø–∏—Å–∞–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ –∫–Ω–∏–≥ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º debounce (–∑–∞–¥–µ—Ä–∂–∫–∞ 300–º—Å).

## Backend

### API Endpoint

```http
GET /api/v1/book?name={searchQuery}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `name` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∫–Ω–∏–≥–∏ (–º–∏–Ω–∏–º—É–º 1 —Å–∏–º–≤–æ–ª)

**–ü—Ä–∏–º–µ—Ä:**
```bash
GET /api/v1/book?name=–≤–æ–π–Ω–∞
```

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### Router (`router.py`)
```python
@router.get("", response_model=List[BookPublic])
async def get_books(
    name: Optional[str] = Query(None, min_length=1),
    service: BookService = Depends(get_book_service)
):
    """–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥ —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø–æ–∏—Å–∫–æ–º –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é."""
    return await service.get_all_books(name)
```

#### Service (`service.py`)
```python
async def get_all_books(self, name: Optional[str] = None) -> List[BookModel]:
    """–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–Ω–∏–≥–∏ —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø–æ–∏—Å–∫–æ–º –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é."""
    stmt = select(BookModel)
    
    if name:
        stmt = stmt.where(BookModel.name.ilike(f"%{name}%"))
    
    return await self.repository.get_all(stmt)
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `ILIKE` –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ –ø–æ–∏—Å–∫–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (–ø–æ–¥—Å—Ç—Ä–æ–∫–∞)
- SQL: `WHERE name ILIKE '%–ø–æ–∏—Å–∫–æ–≤—ã–π_–∑–∞–ø—Ä–æ—Å%'`

## Frontend

### API Service (`bookService.ts`)
```typescript
async getAllBooks(searchQuery?: string): Promise<Book[]> {
  const params = searchQuery ? { name: searchQuery } : {};
  const response = await apiClient.get<Book[]>(BOOKS_ENDPOINT, { params });
  return response.data;
}
```

### Hook (`useBooks.ts`)
```typescript
const [searchQuery, setSearchQuery] = useState<string>('');

// –ü–æ–∏—Å–∫ —Å debounce (300–º—Å)
useEffect(() => {
  const timeoutId = setTimeout(() => {
    fetchBooks(searchQuery || undefined);
  }, 300);

  return () => clearTimeout(timeoutId);
}, [searchQuery]);
```

**Debounce –ª–æ–≥–∏–∫–∞:**
- –û–∂–∏–¥–∞–µ—Ç 300–º—Å –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–≤–æ–¥–∞
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —á—Ä–µ–∑–º–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ–Ω—è–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç–∞–π–º–µ—Ä

### UI (`HomePage.tsx`)

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–∏—Å–∫–∞ —Å –∏–∫–æ–Ω–∫–∞–º–∏ –∏ –∫–Ω–æ–ø–∫–æ–π –æ—á–∏—Å—Ç–∫–∏:

```tsx
<div className="relative max-w-md">
  <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4" />
  <Input
    type="text"
    placeholder="–ü–æ–∏—Å–∫ –∫–Ω–∏–≥ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..."
    value={searchQuery}
    onChange={(e) => setSearchQuery(e.target.value)}
    className="pl-10 pr-10 font-mono"
  />
  {searchQuery && (
    <Button
      variant="ghost"
      size="sm"
      onClick={() => setSearchQuery('')}
      className="absolute right-1 top-1/2 transform -translate-y-1/2"
    >
      <X className="h-4 w-4" />
    </Button>
  )}
</div>
```

**–≠–ª–µ–º–µ–Ω—Ç—ã UI:**
- üîç –ò–∫–æ–Ω–∫–∞ –ª—É–ø—ã —Å–ª–µ–≤–∞
- ‚ùå –ö–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏ —Å–ø—Ä–∞–≤–∞ (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –≤–≤–æ–¥–µ —Ç–µ–∫—Å—Ç–∞)
- –ú–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç –¥–ª—è —Ä–µ—Ç—Ä–æ-—Å—Ç–∏–ª—è
- Placeholder —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π

### –°—á–µ—Ç—á–∏–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞:

```tsx
<Text className="text-muted-foreground">
  {books.length > 0 
    ? `${searchQuery ? '–ù–∞–π–¥–µ–Ω–æ' : '–í—Å–µ–≥–æ'} –∫–Ω–∏–≥: ${books.length}`
    : searchQuery ? '–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ' : '–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—É—Å—Ç–∞'}
</Text>
```

**–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
- `–í—Å–µ–≥–æ –∫–Ω–∏–≥: 5` - –±–µ–∑ –ø–æ–∏—Å–∫–∞
- `–ù–∞–π–¥–µ–Ω–æ –∫–Ω–∏–≥: 2` - —Å –∞–∫—Ç–∏–≤–Ω—ã–º –ø–æ–∏—Å–∫–æ–º
- `–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ` - –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∏—Å–∫–∞
- `–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—É—Å—Ç–∞` - –Ω–µ—Ç –∫–Ω–∏–≥ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. **–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å** –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏ –≤ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞
2. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 300–º—Å** - –∑–∞–ø—Ä–æ—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±–Ω–æ–≤—è—Ç—Å—è** - –æ—Ç–æ–±—Ä–∞–∑—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏
4. **–û—á–∏—Å—Ç–∏—Ç–µ –ø–æ–∏—Å–∫** - –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ‚ùå –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ —Ç–µ–∫—Å—Ç

## –ü—Ä–∏–º–µ—Ä—ã –ø–æ–∏—Å–∫–∞

| –ó–∞–ø—Ä–æ—Å | –ù–∞–π–¥–µ—Ç |
|--------|--------|
| `–≤–æ–π–Ω–∞` | "–í–æ–π–Ω–∞ –∏ –º–∏—Ä", "–í–æ–π–Ω–∞ –º–∏—Ä–æ–≤" |
| `–≥–∞—Ä—Ä–∏` | "–ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä –∏ —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π –∫–∞–º–µ–Ω—å" |
| `1984` | "1984" |
| `–ø—Ä–µ—Å—Ç` | "–ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ" |

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫** - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø–æ –º–µ—Ä–µ –≤–≤–æ–¥–∞  
‚úÖ **Debounce** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤  
‚úÖ **Case-insensitive** - —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø–æ–∏—Å–∫  
‚úÖ **–ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ** - –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ –ø–æ–¥—Å—Ç—Ä–æ–∫–µ  
‚úÖ **UX** - –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∏–∫–æ–Ω–∫–∞–º–∏  
‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - SQL ILIKE –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç—Å—è  

## –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- üîß –ü–æ–∏—Å–∫ –ø–æ –∞–≤—Ç–æ—Ä—É –∏ –∂–∞–Ω—Ä—É
- üîß –§–∏–ª—å—Ç—Ä—ã –ø–æ —Å—Ç–∞—Ç—É—Å—É
- üîß –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- üîß –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- üîß –ò—Å—Ç–æ—Ä–∏—è –ø–æ–∏—Å–∫–∞
- üîß –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ (autocomplete)
